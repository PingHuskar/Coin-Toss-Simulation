<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Coin Flip Simulation</title>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
	const flipLog = [["iter","rate"]];
	const resLog = [];
	const countOccurrences = (arr, val) => arr.reduce((a, v) => (v === val ? a + 1 : a), 0);
	function Flip() {
		return (Math.floor(Math.random() * 2) == 0) ? 1 : 0;
	}
	for (let i = 1; i < Math.pow(10,4)+1; i++) {
		var res = Flip()
		resLog.push(res)
		var Hrate = countOccurrences(resLog, 1)/resLog.length;
		console.log(i,Hrate)
		flipLog.push([i,Hrate])
	}

      function drawChart() {
        var data = google.visualization.arrayToDataTable(flipLog);

        var options = {
          title: 'Coin flip Simulation',
          curveType: 'linear',
          width: 1300,
          height: 500,
          vAxis: { ticks: [0,0.5,1] },
          legend: {position: 'none'}
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }
    </script>
</head>
<body>
	<center>
	<div id="curve_chart"></div>
		<p>Learn <a href="https://www.khanacademy.org/math/ap-statistics/sampling-distribution-ap/what-is-sampling-distribution/v/central-limit-theorem" target="_blank">Central limit theorem</a> from <a href="https://www.khanacademy.org/" target="_blank">Khan Academy</a></p>
	</center>
</body>
</html>